*Инверсия*

Чтобы запустить все тесты, не имеющие заданную маркировку, можно использовать инверсию. Для запуска всех тестов, не отмеченных как smoke, нужно выполнить команду:

pytest -s -v -m "not smoke" test_fixture8.py

*Объединение тестов с разными маркировками*

Для запуска тестов с разными метками можно использовать логическое ИЛИ. Запустим smoke и regression-тесты:

pytest -s -v -m "smoke or regression" test_fixture8.py

*Выбор тестов, имеющих несколько маркировок*

Предположим, у нас есть smoke-тесты, которые нужно запускать только для определенной операционной системы, например, для Windows 10. 
Зарегистрируем метку win10 в файле pytest.ini, а также добавим к одному из тестов эту метку.

pytest -s -v -m "smoke and win10" test_mark2.py

Должен выполнится тест test_guest_should_see_basket_link_on_the_main_page. 

В PyTest есть стандартные метки, которые позволяют пропустить тест при сборе тестов для запуска (то есть не запускать тест) или запустить, но отметить особенным статусом тот тест, который ожидаемо упадёт из-за наличия бага, чтобы он не влиял на результаты прогона всех тестов. Эти метки не требуют дополнительного объявления в pytest.ini.

*Пропустить тест*

Итак, чтобы пропустить тест, его отмечают в коде как @pytest.mark.skip

Если маркировка skip добавляется к функции, где уже есть другие маркировки, то skip должен быть последним маркером, иначе пропускаться не будет. 
@pytest.mark.regression
@pytest.mark.win10
@pytest.mark.skip 

*Отметить тест как падающий*

Теперь добавим в наш тестовый класс тест, который проверяет наличие кнопки "Избранное":

def test_guest_should_see_search_button_on_the_main_page(self, browser): 
     browser.get(link)
     browser.find_element_by_css_selector("button.favorite")

Предположим, что такая кнопка должна быть, но из-за изменений в коде она пропала. 
Пока разработчики исправляют баг, мы хотим, чтобы результат прогона ﻿всех ﻿наших тестов был успешен, но падающий тест помечался соответствующим образом, чтобы про него не забыть. 
Добавим маркировку @pytest.mark.xfail для падающего теста.